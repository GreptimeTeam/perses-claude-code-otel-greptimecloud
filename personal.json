{"kind":"Dashboard","metadata":{"name":"claude-code-personal","project":"default","version":1},"spec":{"display":{"name":"Claude Code Personal Usage Dashboard"},"panels":{"lines_of_code_today":{"kind":"Panel","spec":{"display":{"name":"Lines of Code Today"},"plugin":{"kind":"StatChart","spec":{"calculation":"last","format":{"unit":"decimal","shortValues":false}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(claude_code_lines_of_code_count{user_email=\"$user\"}[24h])) by (type)","seriesNameFormat":"{{type}}"}}}}]}},"my_cost_today":{"kind":"Panel","spec":{"display":{"name":"My Cost Today(USD)"},"plugin":{"kind":"StatChart","spec":{"calculation":"last","format":{"unit":"decimal","decimalPlaces":2,"prefix":"$"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(claude_code_cost_usage{user_email=\"$user\", model=~\"$model\"}[24h]))"}}}}]}},"tokens_used_today":{"kind":"Panel","spec":{"display":{"name":"Tokens Used Today(exclude haiku)"},"plugin":{"kind":"StatChart","spec":{"calculation":"last","format":{"unit":"decimal","shortValues":false}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(claude_code_token_usage{user_email=\"$user\", model!~\".*haiku.*\"}[24h])) by (type)","seriesNameFormat":"{{type}}"}}}}]}},"code_efficiency":{"kind":"Panel","spec":{"display":{"name":"Code Efficiency (Lines/$)"},"plugin":{"kind":"StatChart","spec":{"calculation":"last","format":{"unit":"decimal","decimalPlaces":1},"sparkline":{"color":"#ab47bc"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(claude_code_lines_of_code_count{user_email=\"$user\", model=~\"$model\"}[24h])) / sum(sum_over_time(claude_code_cost_usage{user_email=\"$user\", model=~\"$model\"}[24h]))"}}}}]}},"lines_of_code_trend":{"kind":"Panel","spec":{"display":{"name":"Lines of Code Trend "},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"bottom","mode":"list"},"yAxis":{"show":true,"label":"","format":{"unit":"decimal"}},"visual":{"lineWidth":1.25,"areaOpacity":0.15,"pointRadius":2.75,"connectNulls":false,"display":"line"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(claude_code_lines_of_code_count{user_email=\"$user\"}[12h])) by (type)","minStep":"12h","seriesNameFormat":"{{type}}"}}}}],"links":[]}},"hourly_code_output":{"kind":"Panel","spec":{"display":{"name":"Hourly Code Output"},"plugin":{"kind":"BarChart","spec":{"mode":"vertical","calculation":"last"}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(claude_code_lines_of_code_count{user_email=\"$user\"}[1h])) by (type)","seriesNameFormat":"{{type}}"}}}}]}},"cost_per_100_lines":{"kind":"Panel","spec":{"display":{"name":"Opus Token usage breakdown (Daily)"},"plugin":{"kind":"BarChart","spec":{"calculation":"last","format":{"unit":"decimal","shortValues":true},"sort":"desc","mode":"value"}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"  sum by (type) (\n    sum_over_time(claude_code_token_usage{user_email=\"$user\", model=~\".*opus.*\"}[24h])\n  )","seriesNameFormat":"{{type}}","minStep":""}}}}],"links":[]}},"cost_per_100_lines-1":{"kind":"Panel","spec":{"display":{"name":"Token usage breakdown by Model(5 Hour)"},"plugin":{"kind":"TimeSeriesChart","spec":{"visual":{"lineWidth":1.25,"areaOpacity":0,"pointRadius":2.75,"connectNulls":false,"display":"bar"},"legend":{"position":"bottom"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(claude_code_token_usage{user_email=\"$user\"}[5h])) by (model)","minStep":"5h","seriesNameFormat":"{{model}}"}}}}],"links":[]}},"cost_per_100_lines-3":{"kind":"Panel","spec":{"display":{"name":"Cost usage breakdown by Model(5 Hour)"},"plugin":{"kind":"TimeSeriesChart","spec":{"visual":{"lineWidth":1.25,"areaOpacity":0,"pointRadius":2.75,"connectNulls":false,"display":"bar"},"legend":{"position":"bottom"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(claude_code_cost_usage{user_email=\"$user\"}[5h])) by (model)","minStep":"5h","seriesNameFormat":"{{model}}"}}}}],"links":[]}},"SessionCounterofToday":{"kind":"Panel","spec":{"display":{"name":"Session Counter of Today"},"plugin":{"kind":"StatChart","spec":{"calculation":"last-number","format":{"unit":"decimal"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(claude_code_session_count{user_email=\"$user\"}[24h]))"}}}}]}},"cost_per_100_lines-4":{"kind":"Panel","spec":{"display":{"name":"Sonnet Token usage breakdown (Daily)"},"plugin":{"kind":"BarChart","spec":{"calculation":"last","format":{"unit":"decimal","shortValues":true},"sort":"desc","mode":"value"}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"  sum by (type) (\n    sum_over_time(claude_code_token_usage{user_email=\"$user\", model=~\".*sonnet.*\"}[24h])\n  )","seriesNameFormat":"{{type}}","minStep":""}}}}],"links":[]}},"cost_per_100_lines-5":{"kind":"Panel","spec":{"display":{"name":"Haiku Token usage breakdown (Daily)"},"plugin":{"kind":"BarChart","spec":{"calculation":"last","format":{"unit":"decimal","shortValues":true},"sort":"desc","mode":"value"}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"  sum by (type) (\n    sum_over_time(claude_code_token_usage{user_email=\"$user\", model=~\".*haiku.*\"}[24h])\n  )","seriesNameFormat":"{{type}}","minStep":""}}}}],"links":[]}},"hourly_code_output-1":{"kind":"Panel","spec":{"display":{"name":"Tool_Decision_Accept"},"plugin":{"kind":"BarChart","spec":{"mode":"vertical","calculation":"last"}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(claude_code_code_edit_tool_decision{user_email=\"$user\", decision=\"accept\"}[24h])) by (tool_name)","seriesNameFormat":"{{tool_name}}"}}}}]}},"lines_of_code_trend-1":{"kind":"Panel","spec":{"display":{"name":"Active time by Sessions"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"bottom","mode":"list"},"yAxis":{"show":true,"label":"","format":{"unit":"seconds"}},"visual":{"lineWidth":1.25,"areaOpacity":0.15,"pointRadius":2.75,"connectNulls":false,"display":"bar"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(claude_code_active_time_total{user_email=\"$user\"}[1h])) by (session_id)","minStep":"1h","seriesNameFormat":"{{session_id}}"}}}}],"links":[]}}},"layouts":[{"kind":"Grid","spec":{"display":{"title":"Personal Overview(Latest 24hour)","collapse":{"open":true}},"items":[{"x":0,"y":4,"width":24,"height":5,"content":{"$ref":"#/spec/panels/lines_of_code_today"}},{"x":0,"y":0,"width":12,"height":4,"content":{"$ref":"#/spec/panels/my_cost_today"}},{"x":12,"y":0,"width":12,"height":4,"content":{"$ref":"#/spec/panels/tokens_used_today"}},{"x":12,"y":9,"width":12,"height":4,"content":{"$ref":"#/spec/panels/code_efficiency"}},{"x":0,"y":9,"width":12,"height":4,"content":{"$ref":"#/spec/panels/SessionCounterofToday"}}]}},{"kind":"Grid","spec":{"display":{"title":"Coding Productivity","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":24,"height":6,"content":{"$ref":"#/spec/panels/lines_of_code_trend"}},{"x":0,"y":6,"width":24,"height":6,"content":{"$ref":"#/spec/panels/lines_of_code_trend-1"}},{"x":0,"y":12,"width":24,"height":6,"content":{"$ref":"#/spec/panels/hourly_code_output"}},{"x":0,"y":18,"width":24,"height":6,"content":{"$ref":"#/spec/panels/hourly_code_output-1"}}]}},{"kind":"Grid","spec":{"display":{"title":"Usage Patterns","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":24,"height":6,"content":{"$ref":"#/spec/panels/cost_per_100_lines-1"}},{"x":0,"y":6,"width":24,"height":6,"content":{"$ref":"#/spec/panels/cost_per_100_lines-3"}},{"x":0,"y":12,"width":24,"height":6,"content":{"$ref":"#/spec/panels/cost_per_100_lines"}},{"x":0,"y":18,"width":24,"height":6,"content":{"$ref":"#/spec/panels/cost_per_100_lines-4"}},{"x":0,"y":24,"width":24,"height":6,"content":{"$ref":"#/spec/panels/cost_per_100_lines-5"}}]}}],"variables":[{"kind":"TextVariable","spec":{"name":"user","display":{"name":"User Email","description":"Your email address"},"value":"khaost@proton.me","constant":false}},{"kind":"TextVariable","spec":{"name":"model","display":{"name":"Model","description":"Filter by model type"},"value":".*"}}],"duration":"7d","refreshInterval":"30s","datasources":{}}}