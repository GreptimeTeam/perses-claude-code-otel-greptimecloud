{"kind":"Dashboard","metadata":{"name":"claude-code-personal","project":"default","version":1},"spec":{"display":{"name":"Claude Code Personal Usage Dashboard"},"panels":{"lines_of_code_today":{"kind":"Panel","spec":{"display":{"name":"Lines of Code Today"},"plugin":{"kind":"StatChart","spec":{"calculation":"sum","format":{"unit":"decimal","decimalPlaces":0},"sparkline":{"color":"#42a5f5"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_lines_of_code_count{user_email=\"$user\", model=~\"$model\"}[24h]))"}}}}]}},"my_cost_today":{"kind":"Panel","spec":{"display":{"name":"My Cost Today"},"plugin":{"kind":"StatChart","spec":{"calculation":"sum","format":{"unit":"decimal","decimalPlaces":2,"prefix":"$"},"sparkline":{"color":"#f54242"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_cost_usage{user_email=\"$user\", model=~\"$model\"}[24h]))"}}}}]}},"tokens_used_today":{"kind":"Panel","spec":{"display":{"name":"Tokens Used Today"},"plugin":{"kind":"StatChart","spec":{"calculation":"sum","format":{"unit":"decimal","decimalPlaces":0},"sparkline":{"color":"#66bb6a"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_token_usage{user_email=\"$user\", model=~\"$model\"}[24h]))"}}}}]}},"code_efficiency":{"kind":"Panel","spec":{"display":{"name":"Code Efficiency (Lines/$)"},"plugin":{"kind":"StatChart","spec":{"calculation":"last","format":{"unit":"decimal","decimalPlaces":1},"sparkline":{"color":"#ab47bc"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_lines_of_code_count{user_email=\"$user\", model=~\"$model\"}[24h])) / sum(increase(claude_code_cost_usage{user_email=\"$user\", model=~\"$model\"}[24h]))"}}}}]}},"lines_of_code_trend":{"kind":"Panel","spec":{"display":{"name":"Lines of Code Trend (7 Days)"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"bottom"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(rate(claude_code_lines_of_code_count{user_email=\"$user\", model=~\"$model\"}[1h]))"}}}}]}},"code_vs_tokens":{"kind":"Panel","spec":{"display":{"name":"Code vs Tokens Efficiency"},"plugin":{"kind":"ScatterChart","spec":{}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_lines_of_code_count{user_email=\"$user\", model=~\"$model\"}[1h])) by (session_id) / sum(increase(claude_code_token_usage{user_email=\"$user\", model=~\"$model\"}[1h])) by (session_id)"}}}}]}},"hourly_code_output":{"kind":"Panel","spec":{"display":{"name":"Hourly Code Output"},"plugin":{"kind":"BarChart","spec":{"mode":"vertical","calculation":"last"}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_lines_of_code_count{user_email=\"$user\"}[1h]))"}}}}]}},"code_type_distribution":{"kind":"Panel","spec":{"display":{"name":"Code Type Distribution"},"plugin":{"kind":"PieChart","spec":{"calculation":"last","legend":{"position":"right"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_lines_of_code_count{user_email=\"$user\"}[24h])) by (type)"}}}}]}},"sessions_by_time":{"kind":"Panel","spec":{"display":{"name":"Sessions by Time of Day"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"bottom"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(rate(claude_code_session_count{user_email=\"$user\", model=~\"$model\"}[1h]))"}}}}]}},"cost_per_100_lines":{"kind":"Panel","spec":{"display":{"name":"Cost per 100 Lines"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"bottom"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"(sum(rate(claude_code_cost_usage{user_email=\"$user\", model=~\"$model\"}[1h])) / sum(rate(claude_code_lines_of_code_count{user_email=\"$user\", model=~\"$model\"}[1h]))) * 100"}}}}]}},"weekly_code_velocity":{"kind":"Panel","spec":{"display":{"name":"Weekly Code Velocity"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"bottom"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"avg_over_time(sum(rate(claude_code_lines_of_code_count{user_email=\"$user\", model=~\"$model\"}[1h]))[7d:1h])"}}}}]}},"code_per_session":{"kind":"Panel","spec":{"display":{"name":"Average Lines per Session"},"plugin":{"kind":"StatChart","spec":{"calculation":"mean","format":{"unit":"decimal","decimalPlaces":1}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_lines_of_code_count{user_email=\"$user\", model=~\"$model\"}[24h])) / sum(increase(claude_code_session_count{user_email=\"$user\", model=~\"$model\"}[24h]))"}}}}]}},"my_vs_team_productivity":{"kind":"Panel","spec":{"display":{"name":"My Productivity vs Team Average"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"bottom"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(rate(claude_code_lines_of_code_count{user_email=\"$user\"}[1h]))"}}}},{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"avg(sum by (user_email)(rate(claude_code_lines_of_code_count[1h])))"}}}}]}},"token_efficiency_score":{"kind":"Panel","spec":{"display":{"name":"Token Efficiency (Tokens/Line)"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"bottom"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(rate(claude_code_token_usage{user_email=\"$user\", model=~\"$model\"}[1h])) / sum(rate(claude_code_lines_of_code_count{user_email=\"$user\", model=~\"$model\"}[1h]))"}}}}]}},"best_coding_hours":{"kind":"Panel","spec":{"display":{"name":"Best Coding Hours"},"plugin":{"kind":"BarChart","spec":{"mode":"vertical","calculation":"last"}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_lines_of_code_count{user_email=\"$user\", model=~\"$model\"}[1h])) by (hour)"}}}}]}},"session_details":{"kind":"Panel","spec":{"display":{"name":"Session Details"},"plugin":{"kind":"Table","spec":{"columns":["session_id","lines_of_code","tokens","cost","model"]}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum by (session_id, model) (claude_code_lines_of_code_count{user_email=\"$user\", model=~\"$model\"})"}}}}]}},"daily_code_summary":{"kind":"Panel","spec":{"display":{"name":"Daily Code Summary"},"plugin":{"kind":"BarChart","spec":{"mode":"vertical","calculation":"last"}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_lines_of_code_count{user_email=\"$user\", model=~\"$model\"}[1d]))"}}}}]}},"model_efficiency":{"kind":"Panel","spec":{"display":{"name":"Model Efficiency (Lines/Token)"},"plugin":{"kind":"BarChart","spec":{"mode":"horizontal","calculation":"last"}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_lines_of_code_count{user_email=\"$user\"}[24h])) by (model) / sum(increase(claude_code_token_usage{user_email=\"$user\"}[24h])) by (model)"}}}}]}},"monthly_trends":{"kind":"Panel","spec":{"display":{"name":"Monthly Productivity Trends"},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"bottom"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_lines_of_code_count{user_email=\"$user\", model=~\"$model\"}[30d]))"}}}}]}}},"layouts":[{"kind":"Grid","spec":{"display":{"title":"Personal Overview","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":12,"height":4,"content":{"$ref":"#/spec/panels/lines_of_code_today"}},{"x":0,"y":4,"width":12,"height":4,"content":{"$ref":"#/spec/panels/my_cost_today"}},{"x":12,"y":0,"width":12,"height":4,"content":{"$ref":"#/spec/panels/tokens_used_today"}},{"x":12,"y":4,"width":12,"height":4,"content":{"$ref":"#/spec/panels/code_efficiency"}}]}},{"kind":"Grid","spec":{"display":{"title":"Coding Productivity","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":11,"height":6,"content":{"$ref":"#/spec/panels/lines_of_code_trend"}},{"x":11,"y":6,"width":13,"height":6,"content":{"$ref":"#/spec/panels/code_vs_tokens"}},{"x":11,"y":0,"width":13,"height":6,"content":{"$ref":"#/spec/panels/hourly_code_output"}},{"x":0,"y":6,"width":11,"height":6,"content":{"$ref":"#/spec/panels/code_type_distribution"}}]}},{"kind":"Grid","spec":{"display":{"title":"Usage Patterns","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":6,"height":6,"content":{"$ref":"#/spec/panels/sessions_by_time"}},{"x":0,"y":6,"width":6,"height":6,"content":{"$ref":"#/spec/panels/cost_per_100_lines"}},{"x":6,"y":0,"width":6,"height":6,"content":{"$ref":"#/spec/panels/weekly_code_velocity"}}]}},{"kind":"Grid","spec":{"display":{"title":"Efficiency Metrics","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":3,"height":3,"content":{"$ref":"#/spec/panels/code_per_session"}},{"x":3,"y":0,"width":9,"height":6,"content":{"$ref":"#/spec/panels/my_vs_team_productivity"}},{"x":0,"y":6,"width":6,"height":6,"content":{"$ref":"#/spec/panels/token_efficiency_score"}},{"x":6,"y":6,"width":6,"height":6,"content":{"$ref":"#/spec/panels/best_coding_hours"}}]}},{"kind":"Grid","spec":{"display":{"title":"Detailed Analytics","collapse":{"open":false}},"items":[{"x":0,"y":0,"width":12,"height":6,"content":{"$ref":"#/spec/panels/session_details"}},{"x":0,"y":6,"width":6,"height":6,"content":{"$ref":"#/spec/panels/daily_code_summary"}},{"x":6,"y":6,"width":6,"height":6,"content":{"$ref":"#/spec/panels/model_efficiency"}},{"x":0,"y":12,"width":12,"height":6,"content":{"$ref":"#/spec/panels/monthly_trends"}}]}}],"variables":[{"kind":"TextVariable","spec":{"name":"user","display":{"name":"User Email","description":"Your email address"},"value":".*","constant":false}},{"kind":"TextVariable","spec":{"name":"model","display":{"name":"Model","description":"Filter by model type"},"value":"claude-opus-4-20250514"}}],"duration":"6h","refreshInterval":"30s","datasources":{}}}