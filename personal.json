{"kind":"Dashboard","metadata":{"name":"claude-code-personal","project":"default","version":1},"spec":{"display":{"name":"Claude Code Personal Usage Dashboard"},"panels":{"lines_of_code_today":{"kind":"Panel","spec":{"display":{"name":"Lines of Code Today"},"plugin":{"kind":"StatChart","spec":{"calculation":"last","format":{"unit":"decimal","shortValues":true}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(claude_code_lines_of_code_count{user_email=\"$user\", type=\"added\"}[24h]))","seriesNameFormat":"Added"}}}},{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(claude_code_lines_of_code_count{user_email=\"$user\", type=\"removed\"}[24h]))","seriesNameFormat":"Removed"}}}}]}},"my_cost_today":{"kind":"Panel","spec":{"display":{"name":"My Cost Today"},"plugin":{"kind":"StatChart","spec":{"calculation":"last","format":{"unit":"decimal","decimalPlaces":2,"prefix":"$"},"sparkline":{"color":"#f54242"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_cost_usage{user_email=\"$user\", model=~\"$model\"}[24h]))"}}}}]}},"tokens_used_today":{"kind":"Panel","spec":{"display":{"name":"Tokens Used Today"},"plugin":{"kind":"StatChart","spec":{"calculation":"last","format":{"unit":"decimal","shortValues":false}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(claude_code_token_usage{user_email=\"$user\", model=~\"$model\"}[24h])) by (type)","seriesNameFormat":"{{type}}"}}}}]}},"code_efficiency":{"kind":"Panel","spec":{"display":{"name":"Code Efficiency (Lines/$)"},"plugin":{"kind":"StatChart","spec":{"calculation":"last","format":{"unit":"decimal","decimalPlaces":1},"sparkline":{"color":"#ab47bc"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_lines_of_code_count{user_email=\"$user\", model=~\"$model\"}[24h])) / sum(increase(claude_code_cost_usage{user_email=\"$user\", model=~\"$model\"}[24h]))"}}}}]}},"lines_of_code_trend":{"kind":"Panel","spec":{"display":{"name":"Lines of Code Trend "},"plugin":{"kind":"TimeSeriesChart","spec":{"legend":{"position":"bottom","mode":"list"},"yAxis":{"show":true,"label":"","format":{"unit":"decimal"}},"visual":{"lineWidth":1.25,"areaOpacity":0.3,"pointRadius":2.75,"connectNulls":false,"display":"bar"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_lines_of_code_count{user_email=\"$user\"}[4h])) by (type)","minStep":"4h"}}}}],"links":[]}},"code_vs_tokens":{"kind":"Panel","spec":{"display":{"name":"Code vs Tokens Efficiency"},"plugin":{"kind":"ScatterChart","spec":{}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_lines_of_code_count{user_email=\"$user\"}[1h])) by (session_id) / sum(increase(claude_code_token_usage{user_email=\"$user\"}[1h])) by (session_id)"}}}}]}},"hourly_code_output":{"kind":"Panel","spec":{"display":{"name":"Hourly Code Output"},"plugin":{"kind":"BarChart","spec":{"mode":"vertical","calculation":"last"}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_lines_of_code_count{user_email=\"$user\"}[1h])) by (type)"}}}}]}},"cost_per_100_lines":{"kind":"Panel","spec":{"display":{"name":"Token usage breakdown by Model(Daily)"},"plugin":{"kind":"BarChart","spec":{"calculation":"last","format":{"unit":"decimal","shortValues":true},"sort":"desc","mode":"value"}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"  sum by (model) (\n    increase(claude_code_token_usage{user_email=\"$user\"}[24h])\n  )","seriesNameFormat":"","minStep":""}}}}],"links":[]}},"cost_per_100_lines-1":{"kind":"Panel","spec":{"display":{"name":"Token usage breakdown by Model(5 Hour)"},"plugin":{"kind":"TimeSeriesChart","spec":{"visual":{"lineWidth":1.25,"areaOpacity":0,"pointRadius":2.75,"connectNulls":false,"display":"bar"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_token_usage{user_email=\"$user\"}[5h])) by (model)","minStep":"5h"}}}}],"links":[]}},"cost_per_100_lines-2":{"kind":"Panel","spec":{"display":{"name":"Cost breakdown by Model(Daily)"},"plugin":{"kind":"BarChart","spec":{"calculation":"last","format":{"unit":"decimal","shortValues":true},"sort":"desc","mode":"value"}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"  sum by (model) (\n    increase(claude_code_cost_usage{user_email=\"$user\"}[24h])\n  )","seriesNameFormat":"","minStep":""}}}}],"links":[]}},"cost_per_100_lines-3":{"kind":"Panel","spec":{"display":{"name":"Cost usage breakdown by Model(5 Hour)"},"plugin":{"kind":"TimeSeriesChart","spec":{"visual":{"lineWidth":1.25,"areaOpacity":0,"pointRadius":2.75,"connectNulls":false,"display":"bar"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(increase(claude_code_cost_usage{user_email=\"$user\"}[5h])) by (model)","minStep":"5h"}}}}],"links":[]}},"SessionCounterofToday":{"kind":"Panel","spec":{"display":{"name":"Session Counter of Today"},"plugin":{"kind":"StatChart","spec":{"calculation":"last-number","format":{"unit":"decimal"}}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"query":"sum(sum_over_time(claude_code_session_count{user_email=\"$user\"}[24h]))"}}}}]}}},"layouts":[{"kind":"Grid","spec":{"display":{"title":"Personal Overview","collapse":{"open":true}},"items":[{"x":0,"y":7,"width":12,"height":4,"content":{"$ref":"#/spec/panels/lines_of_code_today"}},{"x":0,"y":15,"width":12,"height":4,"content":{"$ref":"#/spec/panels/my_cost_today"}},{"x":0,"y":0,"width":24,"height":7,"content":{"$ref":"#/spec/panels/tokens_used_today"}},{"x":10,"y":11,"width":12,"height":4,"content":{"$ref":"#/spec/panels/code_efficiency"}},{"x":0,"y":19,"width":12,"height":6,"content":{"$ref":"#/spec/panels/SessionCounterofToday"}}]}},{"kind":"Grid","spec":{"display":{"title":"Coding Productivity","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":24,"height":6,"content":{"$ref":"#/spec/panels/lines_of_code_trend"}},{"x":0,"y":12,"width":13,"height":6,"content":{"$ref":"#/spec/panels/code_vs_tokens"}},{"x":0,"y":6,"width":24,"height":6,"content":{"$ref":"#/spec/panels/hourly_code_output"}}]}},{"kind":"Grid","spec":{"display":{"title":"Usage Patterns","collapse":{"open":true}},"items":[{"x":0,"y":0,"width":24,"height":6,"content":{"$ref":"#/spec/panels/cost_per_100_lines-1"}},{"x":0,"y":6,"width":24,"height":6,"content":{"$ref":"#/spec/panels/cost_per_100_lines-3"}},{"x":0,"y":12,"width":24,"height":6,"content":{"$ref":"#/spec/panels/cost_per_100_lines"}},{"x":0,"y":18,"width":24,"height":6,"content":{"$ref":"#/spec/panels/cost_per_100_lines-2"}}]}}],"variables":[{"kind":"TextVariable","spec":{"name":"user","display":{"name":"User Email","description":"Your email address"},"value":"khaost@proton.me","constant":false}},{"kind":"TextVariable","spec":{"name":"model","display":{"name":"Model","description":"Filter by model type"},"value":".*"}}],"duration":"24h","refreshInterval":"30s","datasources":{}}}